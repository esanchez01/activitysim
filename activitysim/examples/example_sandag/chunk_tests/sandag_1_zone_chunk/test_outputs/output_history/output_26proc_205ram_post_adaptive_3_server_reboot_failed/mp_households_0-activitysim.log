30/06/2021 12:17:05 - INFO - activitysim - Read logging configuration from: configs_mp\logging.yaml
30/06/2021 12:17:05 - DEBUG - activitysim.core.mp_tasks - mp_run_simulation mp_households locutor=True 
30/06/2021 12:17:05 - DEBUG - activitysim.core.mp_tasks - injecting pipeline_file_prefix 'mp_households_0'
30/06/2021 12:17:05 - INFO - activitysim.core.mp_tasks - adjust_chunk_size_for_shared_memory adjusted_chunk_size 4_712_759_550 shared_memory_in_child_rss False chunk_size 7_884_615_385 shared_memory_size 82_468_251_712 num_processes 26 fair_share_of_shared_memory 3_171_855_835 
30/06/2021 12:17:05 - INFO - activitysim.core.mp_tasks - resume_after _
30/06/2021 12:17:05 - DEBUG - activitysim.core.random - Set random seed base to 0
30/06/2021 12:17:05 - DEBUG - activitysim.core.pipeline - open_pipeline - open existing pipeline
30/06/2021 12:17:05 - DEBUG - activitysim.core.pipeline - opened pipeline_store output\mp_households_0-pipeline.h5
30/06/2021 12:17:05 - INFO - activitysim.core.pipeline - load_checkpoint _
30/06/2021 12:17:05 - INFO - activitysim.core.pipeline - loading checkpoint 'mp_accessibility'
30/06/2021 12:17:06 - INFO - activitysim.core.pipeline - load_checkpoint mp_accessibility timestamp 2021-06-30 12:16:36.515328
30/06/2021 12:17:06 - INFO - activitysim.core.pipeline - load_checkpoint table accessibility (4984, 10)
30/06/2021 12:17:06 - DEBUG - activitysim.core.pipeline - rewrap table accessibility inplace=False
30/06/2021 12:17:06 - INFO - activitysim.core.pipeline - load_checkpoint table land_use (4984, 28)
30/06/2021 12:17:06 - DEBUG - activitysim.core.pipeline - rewrap table land_use inplace=False
30/06/2021 12:17:06 - INFO - activitysim.core.pipeline - load_checkpoint table person_windows (125310, 21)
30/06/2021 12:17:06 - DEBUG - activitysim.core.pipeline - rewrap table person_windows inplace=False
30/06/2021 12:17:06 - INFO - activitysim.core.pipeline - load_checkpoint table households (46044, 24)
30/06/2021 12:17:06 - DEBUG - activitysim.core.pipeline - rewrap table households inplace=False
30/06/2021 12:17:06 - INFO - activitysim.core.pipeline - load_checkpoint table persons (125310, 30)
30/06/2021 12:17:06 - DEBUG - activitysim.core.pipeline - rewrap table persons inplace=False
30/06/2021 12:17:06 - INFO - activitysim.core.pipeline - load_checkpoint table school_destination_size (4984, 3)
30/06/2021 12:17:06 - DEBUG - activitysim.core.pipeline - rewrap table school_destination_size inplace=False
30/06/2021 12:17:06 - INFO - activitysim.core.pipeline - load_checkpoint table workplace_destination_size (4984, 4)
30/06/2021 12:17:06 - DEBUG - activitysim.core.pipeline - rewrap table workplace_destination_size inplace=False
30/06/2021 12:17:06 - DEBUG - activitysim.core.tracing - register_traceable_table households
30/06/2021 12:17:06 - DEBUG - activitysim.core.tracing - adding table households.household_id to traceable_table_indexes
30/06/2021 12:17:06 - DEBUG - activitysim.core.tracing - register_traceable_table persons
30/06/2021 12:17:06 - DEBUG - activitysim.core.tracing - adding table persons.person_id to traceable_table_indexes
30/06/2021 12:17:06 - DEBUG - activitysim.core.pipeline - loading random channels ['households', 'persons', 'tours', 'joint_tour_participants', 'trips']
30/06/2021 12:17:06 - DEBUG - activitysim.core.pipeline - adding channel households
30/06/2021 12:17:06 - DEBUG - activitysim.core.random - Adding channel 'households' 46044 ids
30/06/2021 12:17:06 - DEBUG - activitysim.core.pipeline - adding channel persons
30/06/2021 12:17:06 - DEBUG - activitysim.core.random - Adding channel 'persons' 125310 ids
30/06/2021 12:17:06 - DEBUG - activitysim.core.pipeline - open_pipeline complete
30/06/2021 12:17:06 - INFO - activitysim.abm.models.initialize - preload_injectables
30/06/2021 12:17:06 - INFO - activitysim.core.pipeline - #run_model running step school_location
30/06/2021 12:17:06 - DEBUG - activitysim.abm.tables.skims - loading network_los_without_data_loaded injectable
30/06/2021 12:17:06 - INFO - activitysim.core.los - Network_LOS using skim_dict_factory: NumpyArraySkimFactory
30/06/2021 12:17:06 - DEBUG - activitysim.core.skim_dict_factory - load_skim_info taz reading data_sandag\skims.omx
30/06/2021 12:17:07 - DEBUG - activitysim.abm.tables.skims - loading network_los injectable
30/06/2021 12:17:07 - INFO - activitysim.core.skim_dict_factory - get_skim_data taz using existing shared skim_buffers for skims
30/06/2021 12:17:07 - INFO - activitysim.core.skim_dict_factory - get_skim_data taz SkimData shape (826, 4996, 4996)
30/06/2021 12:17:07 - INFO - activitysim.core.skim_dictionary - SkimDict init taz
30/06/2021 12:17:07 - INFO - activitysim.core.skim_dictionary - SkimDict.build_3d_skim_block_offset_table registered 167 3d keys
30/06/2021 12:17:07 - DEBUG - activitysim.core.los - create_skim_dict taz omx_shape (4996, 4996)
30/06/2021 12:17:07 - INFO - activitysim.abm.tables.shadow_pricing - Using existing data_buffers for shadow_price
30/06/2021 12:17:07 - DEBUG - activitysim.abm.tables.shadow_pricing - loading shadow_pricing_info injectable
30/06/2021 12:17:07 - DEBUG - activitysim.abm.tables.shadow_pricing - shadow_pricing_info dtype: <class 'numpy.int64'>
30/06/2021 12:17:07 - DEBUG - activitysim.abm.tables.shadow_pricing - shadow_pricing_info block_shapes: OrderedDict([('school', (4984, 4)), ('workplace', (4984, 5))])
30/06/2021 12:17:07 - DEBUG - activitysim.abm.models.location_choice - school_location max_iterations: 1
30/06/2021 12:17:07 - DEBUG - activitysim.abm.models.location_choice - dropping 4925 of 4984 rows where size_term is zero
30/06/2021 12:17:07 - INFO - activitysim.abm.models.location_choice - Running school_location.i1.sample.university with 7058 persons
30/06/2021 12:17:07 - DEBUG - activitysim.core.simulate - read_model_coefficients file_name school_location_coefficients.csv
30/06/2021 12:17:07 - INFO - activitysim.core.chunk - school_location.i1.sample.university.interaction_sample Running adaptive_chunked_choosers with 7058 choosers
30/06/2021 12:17:08 - DEBUG - activitysim.core.chunk - ChunkHistorian load_cached_history chunk_cache_path output\cache\chunk_cache.csv
30/06/2021 12:17:08 - DEBUG - activitysim.core.chunk - ChunkHistorian load_cached_history reading cached chunk history from chunk_cache.csv
30/06/2021 12:17:08 - DEBUG - activitysim.core.chunk - school_location.i1.sample.university.interaction_sample.ChunkSizer - cached history cum_rows: 2430197391648.0 cum_overhead: {'rss': 5.132210324621476e+17, 'uss': 5.1216001430471066e+17, 'bytes': 5.738765995139728e+17} 
30/06/2021 12:17:08 - DEBUG - activitysim.core.chunk - school_location.i1.sample.university.interaction_sample.initial_rows_per_chunk - initial_row_size: 236145
30/06/2021 12:17:08 - DEBUG - activitysim.core.chunk - school_location.i1.sample.university.interaction_sample.initial_rows_per_chunk - rows_per_chunk: 7058 headroom: 4511465726 initial_row_size: 236145 
30/06/2021 12:17:08 - INFO - activitysim.core.chunk - Running chunk 1 of 1 with 7058 of 7058 choosers
30/06/2021 12:17:08 - DEBUG - activitysim.core.logit - interaction_dataset pre-merge choosers (7058, 3) alternatives (59, 4) alts_sample (416422, 4)
30/06/2021 12:17:08 - DEBUG - activitysim.core.logit - interaction_dataset merged alts_sample (416422, 7)
30/06/2021 12:17:08 - INFO - activitysim.core.interaction_simulate - Running eval_interaction_utilities on 416422 rows
30/06/2021 12:17:08 - DEBUG - activitysim.core.chunk - school_location.i1.sample.university.interaction_sample.eval_interaction_utils.chunk_log.initial_rows_per_chunk - rows_per_chunk: 0 headroom: 4486521086 initial_row_size: 0 
30/06/2021 12:17:08 - DEBUG - activitysim.core.chunk - ChunkLedger.close trace_label: school_location.i1.sample.university.interaction_sample.eval_interaction_utils.chunk_log
30/06/2021 12:17:08 - DEBUG - activitysim.core.chunk - ChunkLedger.close hwm_bytes: 0 school_location.i1.sample.university.interaction_sample.eval_interaction_utils.chunk_log.init
30/06/2021 12:17:08 - DEBUG - activitysim.core.chunk - ChunkLedger.close hwm_rss 259112960 school_location.i1.sample.university.interaction_sample.eval_interaction_utils.chunk_log.init
30/06/2021 12:17:08 - DEBUG - activitysim.core.chunk - ChunkLedger.close hwm_uss 226238464 school_location.i1.sample.university.interaction_sample.eval_interaction_utils.chunk_log.init
30/06/2021 12:17:08 - DEBUG - activitysim.core.chunk - school_location.i1.sample.university.interaction_sample waiting for mem_monitor thread to terminate
30/06/2021 12:17:08 - DEBUG - activitysim.core.chunk - ChunkLedger.close trace_label: school_location.i1.sample.university.interaction_sample
30/06/2021 12:17:08 - DEBUG - activitysim.core.chunk - ChunkLedger.close hwm_bytes: 0 school_location.i1.sample.university.interaction_sample.init
30/06/2021 12:17:08 - DEBUG - activitysim.core.chunk - ChunkLedger.close hwm_rss 233799680 school_location.i1.sample.university.interaction_sample.init
30/06/2021 12:17:08 - DEBUG - activitysim.core.chunk - ChunkLedger.close hwm_uss 201293824 school_location.i1.sample.university.interaction_sample.init
30/06/2021 12:17:08 - DEBUG - activitysim.abm.models.util.logsums - logsum.filter_chooser_columns missing_columns ['tour_type', 'number_of_participants', 'tour_category', 'free_parking_at_work']
30/06/2021 12:17:08 - INFO - activitysim.abm.models.location_choice - Running school_location.i1.logsums.university with 39638 rows
30/06/2021 12:17:08 - DEBUG - activitysim.abm.models.util.logsums - Running compute_logsums with 39638 choosers
30/06/2021 12:17:08 - DEBUG - activitysim.core.simulate - read_model_coefficients file_name tour_mode_choice_coefficients.csv
30/06/2021 12:17:09 - DEBUG - activitysim.core.simulate - dropping 14 all-zero rows from SPEC
30/06/2021 12:17:09 - DEBUG - activitysim.core.expressions - school_location.i1.logsums.university.compute_logsums.tour_mode_choice_annotate_choosers_preprocessor compute_columns using expression spec file tour_mode_choice_annotate_choosers_preprocessor.csv
30/06/2021 12:17:10 - INFO - activitysim.core.chunk - school_location.i1.logsums.university.compute_logsums Running adaptive_chunked_choosers with 39638 choosers
30/06/2021 12:17:10 - DEBUG - activitysim.core.chunk - school_location.i1.logsums.university.compute_logsums.ChunkSizer - cached history cum_rows: 52293397644800.0 cum_overhead: {'rss': 1.5560828077930414e+18, 'uss': 1.4035759161857638e+17, 'bytes': 1.3512613951416326e+17} 
30/06/2021 12:17:10 - DEBUG - activitysim.core.chunk - school_location.i1.logsums.university.compute_logsums.initial_rows_per_chunk - initial_row_size: 2685
30/06/2021 12:17:10 - DEBUG - activitysim.core.chunk - school_location.i1.logsums.university.compute_logsums.initial_rows_per_chunk - rows_per_chunk: 39638 headroom: 4480708862 initial_row_size: 2685 
30/06/2021 12:17:10 - INFO - activitysim.core.chunk - Running chunk 1 of 1 with 39638 of 39638 choosers
30/06/2021 12:17:15 - DEBUG - activitysim.core.chunk - school_location.i1.logsums.university.compute_logsums waiting for mem_monitor thread to terminate
30/06/2021 12:17:15 - DEBUG - activitysim.core.chunk - ChunkLedger.close trace_label: school_location.i1.logsums.university.compute_logsums
30/06/2021 12:17:15 - DEBUG - activitysim.core.chunk - ChunkLedger.close hwm_bytes: 0 school_location.i1.logsums.university.compute_logsums.init
30/06/2021 12:17:15 - DEBUG - activitysim.core.chunk - ChunkLedger.close hwm_rss 1856237568 school_location.i1.logsums.university.compute_logsums.init
30/06/2021 12:17:15 - DEBUG - activitysim.core.chunk - ChunkLedger.close hwm_uss 232050688 school_location.i1.logsums.university.compute_logsums.init
30/06/2021 12:17:15 - INFO - activitysim.abm.models.location_choice - Running school_location.i1.simulate.university with 7058 persons
30/06/2021 12:17:15 - DEBUG - activitysim.core.simulate - read_model_coefficients file_name school_location_coefficients.csv
30/06/2021 12:17:15 - INFO - activitysim.core.chunk - school_location.i1.simulate.university.interaction_sample_simulate Running adaptive_chunked_choosers_and_alts with 7058 choosers and 39638 alternatives
30/06/2021 12:17:15 - DEBUG - activitysim.core.chunk - school_location.i1.simulate.university.interaction_sample_simulate.ChunkSizer - cached history cum_rows: 2430197391648.0 cum_overhead: {'rss': 7050479892439040.0, 'uss': 6929753644478464.0, 'bytes': 5072459571545600.0} 
30/06/2021 12:17:15 - DEBUG - activitysim.core.chunk - school_location.i1.simulate.university.interaction_sample_simulate.initial_rows_per_chunk - initial_row_size: 2852
30/06/2021 12:17:15 - DEBUG - activitysim.core.chunk - school_location.i1.simulate.university.interaction_sample_simulate.initial_rows_per_chunk - rows_per_chunk: 7058 headroom: 4481868030 initial_row_size: 2852 
30/06/2021 12:17:15 - INFO - activitysim.core.chunk - Running chunk 1 of 1 with 7058 of 7058 choosers
30/06/2021 12:17:15 - INFO - activitysim.core.interaction_simulate - Running eval_interaction_utilities on 39638 rows
30/06/2021 12:17:15 - DEBUG - activitysim.core.chunk - school_location.i1.simulate.university.interaction_sample_simulate.eval_interaction_utils.chunk_log.initial_rows_per_chunk - rows_per_chunk: 0 headroom: 4478501118 initial_row_size: 0 
30/06/2021 12:17:16 - DEBUG - activitysim.core.chunk - ChunkLedger.close trace_label: school_location.i1.simulate.university.interaction_sample_simulate.eval_interaction_utils.chunk_log
30/06/2021 12:17:16 - DEBUG - activitysim.core.chunk - ChunkLedger.close hwm_bytes: 0 school_location.i1.simulate.university.interaction_sample_simulate.eval_interaction_utils.chunk_log.init
30/06/2021 12:17:16 - DEBUG - activitysim.core.chunk - ChunkLedger.close hwm_rss 6442532864 school_location.i1.simulate.university.interaction_sample_simulate.eval_interaction_utils.chunk_log.init
30/06/2021 12:17:16 - DEBUG - activitysim.core.chunk - ChunkLedger.close hwm_uss 234258432 school_location.i1.simulate.university.interaction_sample_simulate.eval_interaction_utils.chunk_log.init
30/06/2021 12:17:16 - DEBUG - activitysim.core.chunk - school_location.i1.simulate.university.interaction_sample_simulate waiting for mem_monitor thread to terminate
30/06/2021 12:17:16 - DEBUG - activitysim.core.chunk - ChunkLedger.close trace_label: school_location.i1.simulate.university.interaction_sample_simulate
30/06/2021 12:17:16 - DEBUG - activitysim.core.chunk - ChunkLedger.close hwm_bytes: 0 school_location.i1.simulate.university.interaction_sample_simulate.init
30/06/2021 12:17:16 - DEBUG - activitysim.core.chunk - ChunkLedger.close hwm_rss 6439919616 school_location.i1.simulate.university.interaction_sample_simulate.init
30/06/2021 12:17:16 - DEBUG - activitysim.core.chunk - ChunkLedger.close hwm_uss 230891520 school_location.i1.simulate.university.interaction_sample_simulate.init
30/06/2021 12:17:16 - DEBUG - activitysim.abm.models.location_choice - dropping 4740 of 4984 rows where size_term is zero
30/06/2021 12:17:16 - INFO - activitysim.abm.models.location_choice - Running school_location.i1.sample.highschool with 5149 persons
30/06/2021 12:17:16 - DEBUG - activitysim.core.simulate - read_model_coefficients file_name school_location_coefficients.csv
30/06/2021 12:17:16 - INFO - activitysim.core.chunk - school_location.i1.sample.highschool.interaction_sample Running adaptive_chunked_choosers with 5149 choosers
30/06/2021 12:17:16 - DEBUG - activitysim.core.chunk - school_location.i1.sample.highschool.interaction_sample.ChunkSizer - cached history cum_rows: 2430197391648.0 cum_overhead: {'rss': 5.132210324621476e+17, 'uss': 5.1216001430471066e+17, 'bytes': 5.738765995139728e+17} 
30/06/2021 12:17:16 - DEBUG - activitysim.core.chunk - school_location.i1.sample.highschool.interaction_sample.initial_rows_per_chunk - initial_row_size: 236145
30/06/2021 12:17:16 - DEBUG - activitysim.core.chunk - school_location.i1.sample.highschool.interaction_sample.initial_rows_per_chunk - rows_per_chunk: 5149 headroom: 4488724734 initial_row_size: 236145 
30/06/2021 12:17:17 - INFO - activitysim.core.chunk - Running chunk 1 of 1 with 5149 of 5149 choosers
30/06/2021 12:17:17 - DEBUG - activitysim.core.logit - interaction_dataset pre-merge choosers (5149, 3) alternatives (244, 4) alts_sample (1256356, 4)
30/06/2021 12:17:17 - DEBUG - activitysim.core.logit - interaction_dataset merged alts_sample (1256356, 7)
30/06/2021 12:17:17 - INFO - activitysim.core.interaction_simulate - Running eval_interaction_utilities on 1256356 rows
30/06/2021 12:17:17 - DEBUG - activitysim.core.chunk - school_location.i1.sample.highschool.interaction_sample.eval_interaction_utils.chunk_log.initial_rows_per_chunk - rows_per_chunk: 0 headroom: 4417020158 initial_row_size: 0 
30/06/2021 12:17:18 - DEBUG - activitysim.core.chunk - ChunkLedger.close trace_label: school_location.i1.sample.highschool.interaction_sample.eval_interaction_utils.chunk_log
30/06/2021 12:17:18 - DEBUG - activitysim.core.chunk - ChunkLedger.close hwm_bytes: 0 school_location.i1.sample.highschool.interaction_sample.eval_interaction_utils.chunk_log.init
30/06/2021 12:17:18 - DEBUG - activitysim.core.chunk - ChunkLedger.close hwm_rss 6504800256 school_location.i1.sample.highschool.interaction_sample.eval_interaction_utils.chunk_log.init
30/06/2021 12:17:18 - DEBUG - activitysim.core.chunk - ChunkLedger.close hwm_uss 295739392 school_location.i1.sample.highschool.interaction_sample.eval_interaction_utils.chunk_log.init
30/06/2021 12:17:18 - DEBUG - activitysim.core.chunk - school_location.i1.sample.highschool.interaction_sample waiting for mem_monitor thread to terminate
30/06/2021 12:17:18 - DEBUG - activitysim.core.chunk - ChunkLedger.close trace_label: school_location.i1.sample.highschool.interaction_sample
30/06/2021 12:17:18 - DEBUG - activitysim.core.chunk - ChunkLedger.close hwm_bytes: 0 school_location.i1.sample.highschool.interaction_sample.init
30/06/2021 12:17:18 - DEBUG - activitysim.core.chunk - ChunkLedger.close hwm_rss 6432509952 school_location.i1.sample.highschool.interaction_sample.init
30/06/2021 12:17:18 - DEBUG - activitysim.core.chunk - ChunkLedger.close hwm_uss 224034816 school_location.i1.sample.highschool.interaction_sample.init
30/06/2021 12:17:18 - DEBUG - activitysim.abm.models.util.logsums - logsum.filter_chooser_columns missing_columns ['tour_type', 'number_of_participants', 'tour_category', 'free_parking_at_work']
30/06/2021 12:17:18 - INFO - activitysim.abm.models.location_choice - Running school_location.i1.logsums.highschool with 78526 rows
30/06/2021 12:17:18 - DEBUG - activitysim.abm.models.util.logsums - Running compute_logsums with 78526 choosers
30/06/2021 12:17:19 - DEBUG - activitysim.core.simulate - read_model_coefficients file_name tour_mode_choice_coefficients.csv
30/06/2021 12:17:19 - DEBUG - activitysim.core.simulate - dropping 14 all-zero rows from SPEC
30/06/2021 12:17:19 - DEBUG - activitysim.core.expressions - school_location.i1.logsums.highschool.compute_logsums.tour_mode_choice_annotate_choosers_preprocessor compute_columns using expression spec file tour_mode_choice_annotate_choosers_preprocessor.csv
30/06/2021 12:17:21 - INFO - activitysim.core.chunk - school_location.i1.logsums.highschool.compute_logsums Running adaptive_chunked_choosers with 78526 choosers
30/06/2021 12:17:21 - DEBUG - activitysim.core.chunk - school_location.i1.logsums.highschool.compute_logsums.ChunkSizer - cached history cum_rows: 52293397644800.0 cum_overhead: {'rss': 1.5560828077930414e+18, 'uss': 1.4035759161857638e+17, 'bytes': 1.3512613951416326e+17} 
30/06/2021 12:17:21 - DEBUG - activitysim.core.chunk - school_location.i1.logsums.highschool.compute_logsums.initial_rows_per_chunk - initial_row_size: 2685
30/06/2021 12:17:21 - DEBUG - activitysim.core.chunk - school_location.i1.logsums.highschool.compute_logsums.initial_rows_per_chunk - rows_per_chunk: 78526 headroom: 4449505534 initial_row_size: 2685 
30/06/2021 12:17:21 - INFO - activitysim.core.chunk - Running chunk 1 of 1 with 78526 of 78526 choosers
30/06/2021 12:17:30 - DEBUG - activitysim.core.chunk - school_location.i1.logsums.highschool.compute_logsums waiting for mem_monitor thread to terminate
30/06/2021 12:17:30 - DEBUG - activitysim.core.chunk - ChunkLedger.close trace_label: school_location.i1.logsums.highschool.compute_logsums
30/06/2021 12:17:30 - DEBUG - activitysim.core.chunk - ChunkLedger.close hwm_bytes: 0 school_location.i1.logsums.highschool.compute_logsums.init
30/06/2021 12:17:30 - DEBUG - activitysim.core.chunk - ChunkLedger.close hwm_rss 6970576896 school_location.i1.logsums.highschool.compute_logsums.init
30/06/2021 12:17:30 - DEBUG - activitysim.core.chunk - ChunkLedger.close hwm_uss 263254016 school_location.i1.logsums.highschool.compute_logsums.init
30/06/2021 12:17:30 - INFO - activitysim.abm.models.location_choice - Running school_location.i1.simulate.highschool with 5149 persons
30/06/2021 12:17:30 - DEBUG - activitysim.core.simulate - read_model_coefficients file_name school_location_coefficients.csv
30/06/2021 12:17:30 - INFO - activitysim.core.chunk - school_location.i1.simulate.highschool.interaction_sample_simulate Running adaptive_chunked_choosers_and_alts with 5149 choosers and 78526 alternatives
30/06/2021 12:17:31 - DEBUG - activitysim.core.chunk - school_location.i1.simulate.highschool.interaction_sample_simulate.ChunkSizer - cached history cum_rows: 2430197391648.0 cum_overhead: {'rss': 7050479892439040.0, 'uss': 6929753644478464.0, 'bytes': 5072459571545600.0} 
30/06/2021 12:17:31 - DEBUG - activitysim.core.chunk - school_location.i1.simulate.highschool.interaction_sample_simulate.initial_rows_per_chunk - initial_row_size: 2852
30/06/2021 12:17:31 - DEBUG - activitysim.core.chunk - school_location.i1.simulate.highschool.interaction_sample_simulate.initial_rows_per_chunk - rows_per_chunk: 5149 headroom: 4477309182 initial_row_size: 2852 
30/06/2021 12:17:31 - INFO - activitysim.core.chunk - Running chunk 1 of 1 with 5149 of 5149 choosers
30/06/2021 12:17:31 - INFO - activitysim.core.interaction_simulate - Running eval_interaction_utilities on 78526 rows
30/06/2021 12:17:31 - DEBUG - activitysim.core.chunk - school_location.i1.simulate.highschool.interaction_sample_simulate.eval_interaction_utils.chunk_log.initial_rows_per_chunk - rows_per_chunk: 0 headroom: 4471947518 initial_row_size: 0 
30/06/2021 12:17:32 - DEBUG - activitysim.core.chunk - ChunkLedger.close trace_label: school_location.i1.simulate.highschool.interaction_sample_simulate.eval_interaction_utils.chunk_log
30/06/2021 12:17:32 - DEBUG - activitysim.core.chunk - ChunkLedger.close hwm_bytes: 0 school_location.i1.simulate.highschool.interaction_sample_simulate.eval_interaction_utils.chunk_log.init
30/06/2021 12:17:32 - DEBUG - activitysim.core.chunk - ChunkLedger.close hwm_rss 8427307008 school_location.i1.simulate.highschool.interaction_sample_simulate.eval_interaction_utils.chunk_log.init
30/06/2021 12:17:32 - DEBUG - activitysim.core.chunk - ChunkLedger.close hwm_uss 240812032 school_location.i1.simulate.highschool.interaction_sample_simulate.eval_interaction_utils.chunk_log.init
30/06/2021 12:17:33 - DEBUG - activitysim.core.chunk - school_location.i1.simulate.highschool.interaction_sample_simulate waiting for mem_monitor thread to terminate
30/06/2021 12:17:33 - DEBUG - activitysim.core.chunk - ChunkLedger.close trace_label: school_location.i1.simulate.highschool.interaction_sample_simulate
30/06/2021 12:17:33 - DEBUG - activitysim.core.chunk - ChunkLedger.close hwm_bytes: 0 school_location.i1.simulate.highschool.interaction_sample_simulate.init
30/06/2021 12:17:33 - DEBUG - activitysim.core.chunk - ChunkLedger.close hwm_rss 8421298176 school_location.i1.simulate.highschool.interaction_sample_simulate.init
30/06/2021 12:17:33 - DEBUG - activitysim.core.chunk - ChunkLedger.close hwm_uss 235450368 school_location.i1.simulate.highschool.interaction_sample_simulate.init
30/06/2021 12:17:33 - DEBUG - activitysim.abm.models.location_choice - dropping 927 of 4984 rows where size_term is zero
30/06/2021 12:17:33 - INFO - activitysim.abm.models.location_choice - Running school_location.i1.sample.gradeschool with 25253 persons
30/06/2021 12:17:33 - DEBUG - activitysim.core.simulate - read_model_coefficients file_name school_location_coefficients.csv
30/06/2021 12:17:33 - INFO - activitysim.core.chunk - school_location.i1.sample.gradeschool.interaction_sample Running adaptive_chunked_choosers with 25253 choosers
30/06/2021 12:17:33 - DEBUG - activitysim.core.chunk - school_location.i1.sample.gradeschool.interaction_sample.ChunkSizer - cached history cum_rows: 2430197391648.0 cum_overhead: {'rss': 5.132210324621476e+17, 'uss': 5.1216001430471066e+17, 'bytes': 5.738765995139728e+17} 
30/06/2021 12:17:33 - DEBUG - activitysim.core.chunk - school_location.i1.sample.gradeschool.interaction_sample.initial_rows_per_chunk - initial_row_size: 236145
30/06/2021 12:17:33 - DEBUG - activitysim.core.chunk - school_location.i1.sample.gradeschool.interaction_sample.initial_rows_per_chunk - rows_per_chunk: 18945 headroom: 4473966846 initial_row_size: 236145 
30/06/2021 12:17:33 - INFO - activitysim.core.chunk - Running chunk 1 of 2 with 18945 of 25253 choosers
30/06/2021 12:17:39 - DEBUG - activitysim.core.logit - interaction_dataset pre-merge choosers (18945, 3) alternatives (4057, 4) alts_sample (76859865, 4)
30/06/2021 12:17:41 - DEBUG - activitysim.core.logit - interaction_dataset merged alts_sample (76859865, 7)
30/06/2021 12:17:41 - INFO - activitysim.core.interaction_simulate - Running eval_interaction_utilities on 76859865 rows
30/06/2021 12:17:42 - DEBUG - activitysim.core.chunk - school_location.i1.sample.gradeschool.interaction_sample.eval_interaction_utils.chunk_log.initial_rows_per_chunk - rows_per_chunk: 0 headroom: 75317502 initial_row_size: 0 
30/06/2021 12:19:31 - DEBUG - activitysim.core.chunk - ChunkLedger.close trace_label: school_location.i1.sample.gradeschool.interaction_sample.eval_interaction_utils.chunk_log
30/06/2021 12:20:44 - DEBUG - activitysim.core.chunk - ChunkLedger.close hwm_bytes: 0 school_location.i1.sample.gradeschool.interaction_sample.eval_interaction_utils.chunk_log.init
30/06/2021 12:20:44 - DEBUG - activitysim.core.chunk - ChunkLedger.close hwm_rss 12807188480 school_location.i1.sample.gradeschool.interaction_sample.eval_interaction_utils.chunk_log.init
30/06/2021 12:20:44 - DEBUG - activitysim.core.chunk - ChunkLedger.close hwm_uss 4637442048 school_location.i1.sample.gradeschool.interaction_sample.eval_interaction_utils.chunk_log.init
30/06/2021 12:20:44 - ERROR - activitysim.core.chunk - mem_monitor for school_location.i1.sample.gradeschool.interaction_sample died!
30/06/2021 12:20:47 - WARNING - activitysim.core.mp_tasks - OSError exception running school_location model: [WinError 1450] Insufficient system resources exist to complete the requested service: '(originated from NtQueryVirtualMemory(MemoryWorkingSetInformation))'
30/06/2021 12:20:49 - ERROR - activitysim.core.mp_tasks - mp_tasks - mp_households_0 - OSError exception caught in mp_run_simulation: [WinError 1450] Insufficient system resources exist to complete the requested service: '(originated from NtQueryVirtualMemory(MemoryWorkingSetInformation))'
30/06/2021 12:20:52 - ERROR - activitysim.core.mp_tasks - 
---
Traceback (most recent call last):
  File "c:\users\esanc\.conda\envs\asim_master\lib\site-packages\activitysim\core\mp_tasks.py", line 877, in mp_run_simulation
    run_simulation(queue, step_info, resume_after, shared_data_buffer)
  File "c:\users\esanc\.conda\envs\asim_master\lib\site-packages\activitysim\core\mp_tasks.py", line 831, in run_simulation
    raise e
  File "c:\users\esanc\.conda\envs\asim_master\lib\site-packages\activitysim\core\mp_tasks.py", line 828, in run_simulation
    pipeline.run_model(model)
  File "c:\users\esanc\.conda\envs\asim_master\lib\site-packages\activitysim\core\pipeline.py", line 483, in run_model
    orca.run([step_name])
  File "c:\users\esanc\.conda\envs\asim_master\lib\site-packages\activitysim\core\orca.py", line 1853, in run
    step()
  File "c:\users\esanc\.conda\envs\asim_master\lib\site-packages\activitysim\core\orca.py", line 772, in __call__
    return self._func(**kwargs)
  File "c:\users\esanc\.conda\envs\asim_master\lib\site-packages\activitysim\abm\models\location_choice.py", line 920, in school_location
    iterate_location_choice(
  File "c:\users\esanc\.conda\envs\asim_master\lib\site-packages\activitysim\abm\models\location_choice.py", line 774, in iterate_location_choice
    choices_df, save_sample_df = run_location_choice(
  File "c:\users\esanc\.conda\envs\asim_master\lib\site-packages\activitysim\abm\models\location_choice.py", line 606, in run_location_choice
    run_location_sample(
  File "c:\users\esanc\.conda\envs\asim_master\lib\site-packages\activitysim\abm\models\location_choice.py", line 379, in run_location_sample
    choices = location_sample(
  File "c:\users\esanc\.conda\envs\asim_master\lib\site-packages\activitysim\abm\models\location_choice.py", line 192, in location_sample
    choices = _location_sample(
  File "c:\users\esanc\.conda\envs\asim_master\lib\site-packages\activitysim\abm\models\location_choice.py", line 153, in _location_sample
    choices = interaction_sample(
  File "c:\users\esanc\.conda\envs\asim_master\lib\site-packages\activitysim\core\interaction_sample.py", line 469, in interaction_sample
    choices = _interaction_sample(chooser_chunk, alternatives,
  File "c:\users\esanc\.conda\envs\asim_master\lib\site-packages\activitysim\core\interaction_sample.py", line 273, in _interaction_sample
    = interaction_simulate.eval_interaction_utilities(spec, interaction_df, locals_d, trace_label, trace_rows,
  File "c:\users\esanc\.conda\envs\asim_master\lib\site-packages\activitysim\core\interaction_simulate.py", line 233, in eval_interaction_utilities
    chunk.log_df(trace_label, 'eval.trace_eval_results', None)
  File "c:\users\esanc\.conda\envs\asim_master\lib\contextlib.py", line 120, in __exit__
    next(self.gen)
  File "c:\users\esanc\.conda\envs\asim_master\lib\site-packages\activitysim\core\chunk.py", line 902, in chunk_log
    chunk_sizer.adaptive_rows_per_chunk(1)
  File "c:\users\esanc\.conda\envs\asim_master\lib\site-packages\activitysim\core\chunk.py", line 758, in adaptive_rows_per_chunk
    self.rss, self.uss = mem.get_rss(force_garbage_collect=True, uss=True)
  File "c:\users\esanc\.conda\envs\asim_master\lib\site-packages\activitysim\core\mem.py", line 235, in get_rss
    info = psutil.Process().memory_full_info()
  File "c:\users\esanc\.conda\envs\asim_master\lib\site-packages\psutil\__init__.py", line 1074, in memory_full_info
    return self._proc.memory_full_info()
  File "c:\users\esanc\.conda\envs\asim_master\lib\site-packages\psutil\_pswindows.py", line 681, in wrapper
    raise convert_oserror(err, pid=self.pid, name=self._name)
  File "c:\users\esanc\.conda\envs\asim_master\lib\site-packages\psutil\_pswindows.py", line 671, in convert_oserror
    raise exc
  File "c:\users\esanc\.conda\envs\asim_master\lib\site-packages\psutil\_pswindows.py", line 679, in wrapper
    return fun(self, *args, **kwargs)
  File "c:\users\esanc\.conda\envs\asim_master\lib\site-packages\psutil\_pswindows.py", line 842, in memory_full_info
    uss = cext.proc_memory_uss(self.pid)
OSError: [WinError 1450] Insufficient system resources exist to complete the requested service: '(originated from NtQueryVirtualMemory(MemoryWorkingSetInformation))'
---

